<nav class="bg-black text-white text-lg flex justify-between items-center px-4 sm:px-10 sticky top-0 z-10">
  <a href="#Home"><img src="logo-header.png" alt="Logo" class="max-h-[100px]"></a>
  
  <ul id="menuList" class="hidden flex-col py-5 lg:py-0 justify-center lg:flex lg:flex-row gap-8 gap-y-16 items-center absolute top-full left-0 w-full bg-black lg:static lg:w-auto">
    <li class="text-center cursor-pointer hover:text-[#04cbd4] transition-colors duration-300 px-4 py-2 lg:px-0 lg:py-0"><a href="#HowItWorks">Cómo funciona</a></li>
    <li class="text-center cursor-pointer hover:text-[#04cbd4] transition-colors duration-300 px-4 py-2 lg:px-0 lg:py-0"><a href="#WhoWeAre">Quiénes somos</a></li>
    <li class="text-center cursor-pointer hover:text-[#04cbd4] transition-colors duration-300 px-4 py-2 lg:px-0 lg:py-0"><a href="#Stories">Historias</a></li>
    <li class="text-center cursor-pointer hover:text-[#04cbd4] transition-colors duration-300 px-4 py-2 lg:px-0 lg:py-0"><a href="#ContactUs">Contáctanos</a></li>
    <li class="text-center mt-3 lg:mt-0">
      <a href="#ContactUs" class="bg-gradient-to-r from-[#1538ff] to-[#04cbd4] py-3 px-5 rounded-lg sm:rounded-xl cursor-pointer transition-transform duration-300 hover:scale-105">
        Quiero ayudar
      </a>
    </li>
  </ul>

  <button id="toggleMenu" class="lg:hidden h-fit cursor-pointer transition-colors duration-300 hover:bg-gray-800 rounded-lg p-2">
    <img src="menu.svg" alt="Burguer Menu" class="w-[40px]">
  </button>
</nav>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggleButton = document.getElementById('toggleMenu')!;
    const menuList = document.getElementById('menuList')!;
    const menuLinks = menuList.querySelectorAll('a');

    toggleButton.addEventListener('click', (e) => {
      e.stopPropagation();
      toggleMenu();
    });

    document.addEventListener('click', (e) => {
      const target = e.target as HTMLElement;

      const clickedInsideMenu = menuList.contains(target);
      const clickedToggleButton = toggleButton.contains(target);

      if (!clickedInsideMenu && !clickedToggleButton && !menuList.classList.contains('hidden')) {
        closeMenu();
      }
    });

    menuLinks.forEach(link => {
      link.addEventListener('click', () => {
        if (!menuList.classList.contains('hidden')) {
          closeMenu();
        }
      });
    });

    function toggleMenu() {
      if (menuList.classList.contains('hidden')) {
        openMenu();
      } else {
        closeMenu();
      }
    }

    function openMenu() {
      menuList.classList.remove('hidden');
      menuList.classList.remove('fadeOut');
      menuList.classList.add('fadeIn');
    }

    function closeMenu() {
      menuList.classList.remove('fadeIn');
      menuList.classList.add('fadeOut');
      setTimeout(() => {
        menuList.classList.add('hidden');
      }, 300);
    }
  });
</script>